# ~/.config/shell/bashrc
# Custom bashrc configuration

# Source other config files
source ~/.config/shell/exports
source ~/.config/shell/aliases
source ~/.config/shell/functions

# History settings
HISTSIZE=10000
HISTFILESIZE=20000
HISTCONTROL=ignoredups:ignorespace
shopt -s histappend

# Shell options
shopt -s checkwinsize
shopt -s cdspell
shopt -s dirspell

# Prompt customization (if not using starship)
if ! command -v starship &>/dev/null; then
        PS1='\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ '
fi

# Enable programmable completion features
if ! shopt -oq posix; then
        if [ -f /usr/share/bash-completion/bash_completion ]; then
                . /usr/share/bash-completion/bash_completion
        elif [ -f /etc/bash_completion ]; then
                . /etc/bash_completion
        fi
fi

# Initialize starship if available
if command -v starship &>/dev/null; then
        eval "$(starship init bash)"
fi

# Run Fastfetch if available and not using starship for the prompt (optional logic)
# You might want to run fastfetch always, or only when starship is not active.
# This example runs it always if available.
if command -v fastfetch &>/dev/null; then
        fastfetch
fi

# Load local customizations if they exist
if [ -f ~/.config/shell/local ]; then
        source ~/.config/shell/local
fi

eval "$(zoxide init bash)"
